<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<title>THS International Reception - Signup</title>
	<link rel="icon" type="image/png" href="res/favicon.png" />

	<style type="text/css">
		body {
			background-color: #730b1c;
			color: white;
			font-family: Arial;
		}
		
		#content-box {
			max-width: 520px;
			margin: 0 auto;
			text-align: center;
		}

		#content-box > img {
			max-width: 60%;
		}

		#text-box {
			padding-top: 25px;
		}
	</style>
</head>
<body>

	<div id="content-box">
		<img alt="THS International Reception" src="res/thsint_logo.png" />

		<div id="text-box">
			<h1 style="display: none;">THS International Reception - Signup</h1>
			<h2>
				The Signup for events will be available in
				<br>
				<span id="days">00</span> - <span id="hours">00</span> - <span id="minutes">00</span>
			</h2>
			<p>
				We are currently preparing the event signup for the THS International Fall Reception 2019. The signup will open on the 15th July 12:00 noon CET.
				<br>
				<small>Remember: There can always be delays the preparation of the event signup.</small>
			</p>
		</div>
	</div>
	
	<script type="text/javascript">
		const releaseDate = new Date("2019-07-15T10:00:00.000Z");
		const redirectURL = "https://ths.kth.se/";

		setTime();
		const timerInterval = setInterval(function() {
			setTime();
		}, 30000)

		function setTime() {
			const time = releaseDate.getTime() - Date.now();
			if (time < 0) {
				redirect();
			}

			const days = Math.floor(time / 1000 / 60 / 60 / 24);
			const hours = Math.floor((time / 1000 / 60 / 60) % 24);
			const minutes = Math.floor((time / 1000 / 60) % 60);
			//const seconds = Math.floor((time/1000)%60 );

			let dayString = leadingZero(days);
			if (days === 1) dayString += " Day";
			else dayString += " Days";
			document.querySelector("#days").innerHTML = dayString;

			let hourString = leadingZero(hours);
			if (hours === 1) hourString += " Hour";
			else hourString += " Hours";
			document.querySelector("#hours").innerHTML = hourString;

			let minuteString = leadingZero(minutes);
			if (minutes === 1) minuteString += " Minute";
			else minuteString += " Minutes";
			document.querySelector("#minutes").innerHTML = minuteString;
		}

		function leadingZero(num) {
			return num < 10 ? '0' + num : num;
		}

		function redirect() {
			location.href = redirectURL;
		}
	</script>
</body>
</html>